<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lot registration</title>
    <style>
   .headr {
        position: fixed; /* Относительное позиционирование */
        top: 0px; /* Положение от верхнего края */
        left: 8px; /* Положение от левого края */
        width: 100%;
        background: #f0f0f0; /* Цвет фона */
        }
   .footr {
        position: fixed; /* Относительное позиционирование */
        bottom: 0px; /* Положение от верхнего края */
        left: 8px; /* Положение от левого края */
        width: 100%;
        background: #f0f0f0; /* Цвет фона */
        }
    </style>
</head>
<body>
<div th:insert="components :: improvedHeader" ></div>
<br>
<br>
<br>
<br>
<br>
<br>
<h3>Enter lot information</h3>

<p id="error" style="color: red"></p>
<form id="form" action="#" th:action="@{/{a_id}/saveLot(a_id=${a_id})}">
    <table>
        <tr>
            <td><label th:text="Name" /></td>
            <td><input name="name" type="text" minlength="3" required></td>
        </tr>
        <tr>
            <td><label th:text="Price" /></td>
            <td><input name="price" id="price" type="number" step="0.01" min="0.01" max="2000000000" required></td>
        </tr>
        <tr>
            <td><label th:text="Min_price" /></td>
            <td><input name="min_price" id="min_price" type="number" step="0.01" min="0.01" max="2000000000" required></td>
        </tr>
        <tr>
            <td><label th:text="Description" /></td>
            <td><input name="description" type="text" /></td>
        </tr>
            <select name="items" multiple required>
                <option th:each="item: ${items}">
                    <a th:text="${item.getID()}"></a>
                </option>
            </select>
        <tr>
            <td colspan="2">
                <input type="submit" value="Submit"/>
            </td>
        </tr>
    </table>
</form>
<script type="text/javascript">
var min_price = document.getElementById("min_price");
var price = document.getElementById("price");
var form = document.getElementById("form");
var error = document.getElementById("error");

form.onsubmit = function(e){
    if(Number.parseInt(min_price.value) > Number.parseInt(price.value)){
		error.innerText = "min price should be smaller than price";
		event.preventDefault();
	}
	//else{
	    //error.innerText = "good input";
	    //event.preventDefault();
	//}
}
</script>
<hr>
<div th:insert="components :: itemList"></div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div th:insert="components :: improvedFooter" ></div>
</body>
</html>